{"componentChunkName":"component---src-templates-blog-post-js","path":"/e2e/cypress-page-objects/","result":{"data":{"site":{"siteMetadata":{"title":"Kontrolqa","author":"kostyrko","siteUrl":"https://kostyrko.github.io/kontrolqa","comment":{"disqusShortName":"","utterances":"kostyrko/kontrolqa"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"244e03c3-8d5b-572c-98de-7da7129bca87","excerpt":"Page objects Page object pattern - gÅ‚Ã³wne zaÅ‚oÅ¼enia: wprowadzenie moduÅ‚owoÅ›ci w testach -> skupienie logiki testu w jednym miejscu a w innym stworzenie samego testu.\nğŸ‘‰ pozwala na ograniczenie uÅ¼ywania selektorÃ³w w testach ( âœŒï¸ pozytywnie wpÅ‚ywa na czytelnoÅ›Ä‡ kodu) \nğŸ¤Œ niewielkieâ€¦","html":"<p><img src=\"https://www.cypress.io/static/cypress-io-logo-social-share-8fb8a1db3cdc0b289fad927694ecb415.png\"></p>\n<h3 id=\"page-objects\" style=\"position:relative;\"><a href=\"#page-objects\" aria-label=\"page objects permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Page objects</h3>\n<p><strong>Page object pattern</strong> - gÅ‚Ã³wne zaÅ‚oÅ¼enia: wprowadzenie moduÅ‚owoÅ›ci w testach -> skupienie logiki testu w jednym miejscu a w innym stworzenie samego testu.\nğŸ‘‰ pozwala na ograniczenie uÅ¼ywania selektorÃ³w w testach ( âœŒï¸ pozytywnie wpÅ‚ywa na czytelnoÅ›Ä‡ kodu)\nğŸ¤Œ niewielkie zmiany dokonane w testowanej aplikacji powinny mieÄ‡ wpÅ‚yw na zmianÄ™ Page Objectu, unikajÄ…c zmian w kodzie testu ( ğŸ¤œ testy prostsze w utrzymaniu).</p>\n<p>PodsumowujÄ…c</p>\n<ul>\n<li>wprowadza dodatkowÄ… abstrakcjÄ™ dla interakcji z UI</li>\n<li>zawiera szczegÃ³Å‚y struktury UI strony oraz (czÄ™Å›ci) jej funkcjonalnoÅ›ci w jednej klasie/obiekcie</li>\n</ul>\n<p>Page objecty przechowujemy w dedykowanym folderze (np. pageObjects) znajdujÄ…cym siÄ™ po za folderem â€˜integrationsâ€™ jak reszta plikÃ³w z kodem testowym.</p>\n<h4 id=\"1-page-object-oparty-na-klasie\" style=\"position:relative;\"><a href=\"#1-page-object-oparty-na-klasie\" aria-label=\"1 page object oparty na klasie permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Page object oparty na klasie</h4>\n<p>PrzyjÄ™te jest, Å¼e Page Objecty tworzone sÄ… na podstawie klasy / w przypadku Cypressa nie jest to jednak konieczne (o czym mowa poniÅ¼ej).</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CreditsPgObj</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">getCreditsCheckbox</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[data-cy=\"creditBox\"]'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">static</span> <span class=\"token function\">getCreditsInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[data-cy=\"creditsInfo\"]'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ThanksCreditsPg</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">getProviderName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[data-cy=\"providerName\"]'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">static</span> <span class=\"token function\">getTransactionId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[data-cy=\"transactionId\"]'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>Zastosowanie</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/// &lt;reference types=\"cypress\" /></span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> viewports <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../../support/main'</span>\n<span class=\"token comment\">// zaimportowanie klasy obiektu</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> CreditsPage <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../../support/credits'</span>\n\nviewports<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">viewport</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Bonus credits management - (</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>viewport<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// stworzenie nowej instancji klasy page obiektu</span>\n        <span class=\"token keyword\">const</span> creditsPage <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CreditsPgObj</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">beforeEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            cy<span class=\"token punctuation\">.</span><span class=\"token function\">viewport</span><span class=\"token punctuation\">(</span>viewport<span class=\"token punctuation\">)</span>\n            cy<span class=\"token punctuation\">.</span><span class=\"token function\">visit</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">wait</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@xyz'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">wait</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@yz'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">wait</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@zx'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Bonus credits offer should be displayed'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            CreditsPage<span class=\"token punctuation\">.</span><span class=\"token function\">getLimitedTimeOffer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">should</span><span class=\"token punctuation\">(</span><span class=\"token string\">'be.visible'</span><span class=\"token punctuation\">)</span>\n            CreditsPage<span class=\"token punctuation\">.</span><span class=\"token function\">getCreditsProductBonus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">should</span><span class=\"token punctuation\">(</span><span class=\"token string\">'be.visible'</span><span class=\"token punctuation\">)</span>\n            CreditsPage<span class=\"token punctuation\">.</span><span class=\"token function\">getCreditsProductBonus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">first</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">should</span><span class=\"token punctuation\">(</span><span class=\"token string\">'include.text'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'100 Credits'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<hr>\n<p>Kolejny przykÅ‚ad zastosowania Page ObjectÃ³w znalazÅ‚ siÄ™ w artykule\n<em>Gleba Bahmatova</em> pod tytuÅ‚em <a href=\"https://www.cypress.io/blog/2019/01/03/stop-using-page-objects-and-start-using-app-actions/#just-functions\">Stop using Page Objects and Start using App Actions</a><br>\n[ o <strong>App Actions</strong> mowa poniÅ¼ej ]</p>\n<p><strong>Page Object ->  HomePage</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> Header <span class=\"token keyword\">from</span> <span class=\"token string\">'./Headers'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> SignInPage <span class=\"token keyword\">from</span> <span class=\"token string\">'./SignIn'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">HomePage</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>header <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Header</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">visit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        cy<span class=\"token punctuation\">.</span><span class=\"token function\">visit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">getUserAvatar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">[data-testid=UserAvatar]</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">goToSignIn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> link <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>header<span class=\"token punctuation\">.</span><span class=\"token function\">getSignInLink</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        link<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">const</span> signIn <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SignInPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> signIn<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> HomePage<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Wykorzystanie w teÅ›cie [warto zwrÃ³ciÄ‡ uwagÄ™ na to gdzie znalazÅ‚y siÄ™ asercje]</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> HomePage <span class=\"token keyword\">from</span> <span class=\"token string\">'../elements/pages/HomePage'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Sign In'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'should show an error message on empty input'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> home <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HomePage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        home<span class=\"token punctuation\">.</span><span class=\"token function\">visit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">const</span> signIn <span class=\"token operator\">=</span> home<span class=\"token punctuation\">.</span><span class=\"token function\">goToSignIn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        signIn<span class=\"token punctuation\">.</span><span class=\"token function\">submit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        signIn<span class=\"token punctuation\">.</span><span class=\"token function\">getEmailError</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">should</span><span class=\"token punctuation\">(</span><span class=\"token string\">'exist'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Email is required'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        signIn\n        <span class=\"token punctuation\">.</span><span class=\"token function\">getPasswordError</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">should</span><span class=\"token punctuation\">(</span><span class=\"token string\">'exist'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Password is required'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<h4 id=\"2-page-object-oparty-na-obiekcie\" style=\"position:relative;\"><a href=\"#2-page-object-oparty-na-obiekcie\" aria-label=\"2 page object oparty na obiekcie permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Page object oparty na obiekcie</h4>\n<p>W przypadku Cypressa, nie ma potrzeby tworzenia Page ObjectÃ³w jako klas, a takÅ¼e tworzenia ich instancji poniewaÅ¼ te nie wymagajÂ  prototypÃ³w innych klas i same nimi byÄ‡ nie muszÄ… - zamiast tego Page Objecty mogÄ… skÅ‚adaÄ‡ siÄ™ nawet z pojedynczych funkcji lub dla porzÄ…dku mogÄ… one byÄ‡ zebrane w ramach obiektu.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> menuPage <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">menuOpen</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>menuSelectors<span class=\"token punctuation\">.</span>openMenuBtn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">menuClose</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>menuSelectors<span class=\"token punctuation\">.</span>closMenuBtn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">should</span><span class=\"token punctuation\">(</span><span class=\"token string\">'not.be.visible'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">logOut</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>menuSelectors<span class=\"token punctuation\">.</span>menuItems<span class=\"token punctuation\">.</span>logout<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            cy<span class=\"token punctuation\">.</span><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">should</span><span class=\"token punctuation\">(</span><span class=\"token string\">'include'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'/login'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<h4 id=\"3-sposÃ³b-na-podziaÅ‚-logiki-w-page-objecty-model-pom\" style=\"position:relative;\"><a href=\"#3-spos%C3%B3b-na-podzia%C5%82-logiki-w-page-objecty-model-pom\" aria-label=\"3 sposÃ³b na podziaÅ‚ logiki w page objecty model pom permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. SposÃ³b na podziaÅ‚ logiki w Page Objecty Model (POM)</h4>\n<p> Swego czasu tutaj: <a href=\"https://kostyrko.github.io/zfrontu/testing-good-practices.html\">Dobre zasady testowania</a> pisaÅ‚em, Å¼e dobry ukÅ‚ad testu tj 3xA (Arrange/aranÅ¼acja, Act/dziaÅ‚anie, Assert/sprawdzanie) - jak to siÄ™ odnosi do tzw POM? Ja to rozumiem w sposÃ³b nastÄ™pujÄ…cy - PageObject jest odpowiedzialny za interakcjÄ™ ze stronÄ… (przechowuje akcje, ktÃ³re sÄ… powtarzane w tekÅ›cie) - jednak sama asercja (sprawdzenie poprawnoÅ›ci wykonania siÄ™ akcji) powinna znajdowaÄ‡ siÄ™ wewnÄ…trz testu. Przygotowanie testu odbywaÄ‡ siÄ™ moÅ¼e w rÃ³Å¼nych miejscach i na rÃ³Å¼ne sposoby (pomijajÄ…c przygotowanie Å›rodowiska-> cy.visit/cy.intercept czy localStorage, ktÃ³re mogÄ… siÄ™ znaleÅºÄ‡ np. w beforeEach) ale skupiaÄ‡ w sobie bÄ™dzie zebranie selektorÃ³w (w osobnej klasie bÄ…dÅº obiekcie), ktÃ³re nastÄ™pnie bÄ™dÄ… wykorzystane zarÃ³wno w ramach testu jak i w Page Object.</p>\n<p>Scenariusz testowy w kontekÅ›cie testowania aplikacji blogowej moÅ¼e przedstawiaÄ‡ siÄ™ w sposÃ³b nastÄ™pujÄ…cy: logujemy siÄ™, przechodzimy do sekcji z nowymi artykuÅ‚ami, tworzymy treÅ›Ä‡ nowego artykuÅ‚y, postujemy go - a nastÄ™pnie sprawdzamy czy artykuÅ‚ zostaÅ‚ dodany/opublikowany.</p>\n<p><strong>CzÄ™sto spotykane podejÅ›cie (podejÅ›cie liniowe)</strong> => 1. Zebranie selektorÃ³w w obiekcie (w ktÃ³rym przechowywany jest PageObject), 2. wykorzystanie PageObjectu min. do cy.get() + funkcjonalnoÅ›Ä‡ 3. wykorzystanie w tekÅ›cie getterÃ³w z PageObjectu do tworzenia asercji.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token constant\">SELECTORS</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token constant\">ACCEPT_BUTTON</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#accept-cookies\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token constant\">REJECT_BUTTON</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#reject-cookies\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token constant\">LOCALSTORAGE_DISABLED_WARNING</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#localstorage-disabled-warning\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>Alternatywne podejÅ›cie: rozbicie logiki na 3 klasy/obiekty/czÄ™Å›ci (podejÅ›cie funkcjonalne)</strong> => 1. przechowuje gettery = cy.get() + selektory 2. akcje/funkcjonalnoÅ›Ä‡ (wykorzystuje logikÄ™ 1.) 3. test (tu wykorzystywana jest logika z 1. 2.)</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getSubmitSearchButton</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[cypress-id]=submit-search'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>PowyÅ¼ej przedstawiony jest przypadek pojedynczej funkcji, ale te (jak zauwaÅ¼yÅ‚em powyÅ¼ej mogÄ… byÄ‡ rÃ³wnieÅ¼ zebrane w obiektach)</p>\n<p>wykorzystujÄ…c <a href=\"https://anton-kravchenko.github.io/cypress-selectors/\">cypress-selectors</a> zapis moÅ¼e wyglÄ…daÄ‡ nastÄ™pujÄ…co:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">@<span class=\"token function\">ByType</span><span class=\"token punctuation\">(</span><span class=\"token string\">'input'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">static</span> searchInput<span class=\"token operator\">:</span> Selector<span class=\"token punctuation\">;</span></code></pre></div>\n<p>PrzykÅ‚adowe zastosowanie</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'change language between different languages'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>i18nextLngs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">language</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        cy<span class=\"token punctuation\">.</span><span class=\"token function\">wrap</span><span class=\"token punctuation\">(</span>footerPage<span class=\"token punctuation\">.</span><span class=\"token function\">changeLanguage</span><span class=\"token punctuation\">(</span>language<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n            <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'i18nextLng'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>to<span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span>i18nextLngs<span class=\"token punctuation\">[</span>language<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>gdzie footerPage.js (w tym przypadku selektory przetrzymywane sÄ… w osobnym pliku oraz obiekcie â€˜footerSelectorsâ€™ choÄ‡ nie w postaci getterÃ³w a jedynie selektorÃ³w - zatem realizowane jest podejÅ›cie liniowe):</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> footerSelectors <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../support/selectors/footerSelectors'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> i18nextLngs <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    en<span class=\"token operator\">:</span> <span class=\"token string\">'en'</span><span class=\"token punctuation\">,</span>\n    pl<span class=\"token operator\">:</span> <span class=\"token string\">'pl'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> footerPage <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">changeLanguage</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">language</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>footerSelectors<span class=\"token punctuation\">.</span>languageBtn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> waitForAnimations<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>footerSelectors<span class=\"token punctuation\">.</span>languageOption<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>language<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">toUpperCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> language<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> waitForAnimations<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<h3 id=\"page-object-model-a-moÅ¼e-by-tak-zaczÄ…Ä‡-stosowaÄ‡-app-actions\" style=\"position:relative;\"><a href=\"#page-object-model-a-mo%C5%BCe-by-tak-zacz%C4%85%C4%87-stosowa%C4%87-app-actions\" aria-label=\"page object model a moÅ¼e by tak zaczÄ…Ä‡ stosowaÄ‡ app actions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Page Object model? a moÅ¼e by tak zaczÄ…Ä‡ stosowaÄ‡ App Actions?</h3>\n<p>ArtykuÅ‚ <em>Gleba Bahmatova</em> pod tytuÅ‚em <a href=\"https://www.cypress.io/blog/2019/01/03/stop-using-page-objects-and-start-using-app-actions/#just-functions\">Stop using Page Objects and Start using App Actions</a> trafiÅ‚ do sporej iloÅ›ci osÃ³b jednak sama adaptacja wydaje siÄ™ nie byÄ‡ byÄ‡ powszechnaâ€¦ - ğŸ¤”  w jakich przypadkach Page Object siÄ™ nie sprawdzajÄ… lub dobrÄ… praktykÄ… byÅ‚o by ich nie stosowanie? ğŸ‘‰  tam gdzie bÄ™dÄ… one stosowane do <strong>wywoÅ‚ania stanu aplikacji przez UI</strong> / przygotowanie stanu do testowania - dlaczego? - poniewaÅ¼ faktycznie oznacza to ponowne przeprowadzanie testu. W takich przypadkach moÅ¼na by zastosowaÄ‡ App Actions tzn. wykorzystanie funkcji znajdujÄ…cych siÄ™ w aplikacji/ danym komponencie bezpoÅ›rednio z w teÅ›cie a nastÄ™pnie sprawdzanie jej stanu.</p>\n<p>WiÄ™cej na temat App Actions pojawi siÄ™ w jednym z kolejnych wpisÃ³w na blogu.</p>\n<hr>\n<p>Å¹rÃ³dÅ‚a:</p>\n<p><a href=\"https://medium.com/geekculture/using-pageobject-pattern-with-cypress-6d9907850522\">Using PageObject pattern with Cypress</a> => <a href=\"https://github.com/anton-kravchenko/cypress-page-object-example\">anton-kravchenko/cypress-page-object-example</a> => <a href=\"https://anton-kravchenko.github.io/cypress-selectors/\">cypress-selectors</a></p>\n<p><a href=\"https://www.youtube.com/watch?v=bC9bGHDgpQk&#x26;list=PLYDwWPRvXB8-8LG2hZv25HO6C3w_vezZb&#x26;index=15\">CYPRESS Page Object Model EXAMPLE | POM in CYPRESS</a></p>\n<p><a href=\"https://www.cypress.io/blog/2019/01/03/stop-using-page-objects-and-start-using-app-actions/\">Stop using Page Objects and Start using App Actions</a></p>","frontmatter":{"title":"ğŸŒ² Cypress - Page Objects","date":" 16/02/2022","tags":null}}},"pageContext":{"slug":"/e2e/cypress-page-objects/","previous":{"fields":{"slug":"/e2e/cypress-fixtures/"},"frontmatter":{"title":"ğŸŒ² Cypress - fixtures"}},"next":{"fields":{"slug":"/api/pactumjs-wprowadzenie/"},"frontmatter":{"title":"ğŸ¤ PactumJS - wprowadzenie"}}}}}