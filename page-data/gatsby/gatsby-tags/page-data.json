{"componentChunkName":"component---src-templates-blog-post-js","path":"/gatsby/gatsby-tags/","result":{"data":{"site":{"siteMetadata":{"title":"Controlqa 👾","author":"kostyrko","siteUrl":"https://kostyrko.github.io/kontrolqa","comment":{"disqusShortName":"","utterances":"kostyrko/kontrolqa"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"32066779-0250-55d4-8d48-286606734821","excerpt":"Storing strings as an array in metadata.  - add tags in  GraphQL query Returned object  adding values to GraphQL query  as well as to rendering In the future, tags in the form of  links will appear here, leading to pages with tags.  Source:  How to add Tags to your Gatsby Blog","html":"<p>Storing strings as an array in metadata.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">title<span class=\"token operator\">:</span> Gatsby dodanie tagów\ndate<span class=\"token operator\">:</span> <span class=\"token number\">2022</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">05</span> <span class=\"token number\">22</span><span class=\"token operator\">:</span><span class=\"token number\">02</span><span class=\"token operator\">:</span><span class=\"token number\">71</span>\ncategory<span class=\"token operator\">:</span> gatsby\nthumbnail<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> thumbnailSrc <span class=\"token punctuation\">}</span>\ndraft<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\ntags<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"Gatsby\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"blog\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"tags\"</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p><code class=\"language-text\">gatsby-node.js</code> - add tags in <code class=\"language-text\">frontmatter</code></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">return</span> <span class=\"token function\">graphql</span><span class=\"token punctuation\">(</span>\n`\n    <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">allMarkdownRemark</span><span class=\"token punctuation\">(</span>\n        <span class=\"token parameter\">filter<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> frontmatter<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> category<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> ne<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> draft<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> eq<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>\n        sort<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> fields<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>frontmatter___date<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> order<span class=\"token operator\">:</span> <span class=\"token constant\">DESC</span> <span class=\"token punctuation\">}</span>\n        limit<span class=\"token operator\">:</span> <span class=\"token number\">1000</span></span>\n    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        edges <span class=\"token punctuation\">{</span>\n        node <span class=\"token punctuation\">{</span>\n            fields <span class=\"token punctuation\">{</span>\n            slug\n            <span class=\"token punctuation\">}</span>\n            frontmatter <span class=\"token punctuation\">{</span>\n            title\n            category\n            tags <span class=\"token operator\">&lt;=</span><span class=\"token operator\">===</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<p>GraphQL query</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">query MyQuery <span class=\"token punctuation\">{</span>\n  allMarkdownRemark <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">field<span class=\"token operator\">:</span> frontmatter___tags</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      fieldValue\n      totalCount\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Returned object </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"data\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"allMarkdownRemark\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"group\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">\"fieldValue\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Gatsby\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">\"totalCount\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">\"fieldValue\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"blog\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">\"totalCount\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">\"fieldValue\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tags\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">\"totalCount\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<p>adding values to GraphQL query</p>\n<p><code class=\"language-text\">templates/blog-post.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query BlogPostBySlug($slug: String!) {\n    site {\n      siteMetadata {\n        title\n        author\n        siteUrl\n        comment {\n          disqusShortName\n          utterances\n        }\n        sponsor {\n          buyMeACoffeeId\n        }\n      }\n    }\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      excerpt(pruneLength: 280)\n      html\n      frontmatter {\n        title\n        date(formatString: \" DD/MM/YYYY\")\n        tags &lt;====\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span></code></pre></div>\n<p>as well as to rendering</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useEffect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby'</span>\n<span class=\"token comment\">//[...]</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Tags <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../components/tags'</span>\n\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> pageContext<span class=\"token punctuation\">,</span> location <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> \n\n  <span class=\"token comment\">//[...]</span>\n  <span class=\"token keyword\">const</span> post <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>markdownRemark\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> title<span class=\"token operator\">:</span> postTitle<span class=\"token punctuation\">,</span> date<span class=\"token punctuation\">,</span> tags <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> post<span class=\"token punctuation\">.</span>frontmatter\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Layout location<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>location<span class=\"token punctuation\">}</span> title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Head title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>postTitle<span class=\"token punctuation\">}</span> description<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>excerpt<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>PostTitle title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>postTitle<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>PostDate date<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>date<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>PostContainer html<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>html<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Tags tags<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>tags<span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token comment\">//[..]</span></code></pre></div>\n<hr>\n<p>In the future, tags in the form of <code class=\"language-text\">&lt;a></code> links will appear here, leading to pages with tags.</p>\n<p><code class=\"language-text\">tags/index.jsx</code></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'./index.scss'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Tags</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> tags <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> tagsArr <span class=\"token operator\">=</span> tags <span class=\"token operator\">||</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tagsArr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"tags\"</span><span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span>tagsArr<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tag<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token operator\">&lt;</span>span key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span> className<span class=\"token operator\">=</span><span class=\"token string\">\"tag\"</span><span class=\"token operator\">></span>\n              <span class=\"token punctuation\">{</span>tag<span class=\"token punctuation\">}</span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<p>Source: </p>\n<p><a href=\"https://fek.io/blog/how-to-add-tags-to-your-gatsby-blog\">How to add Tags to your Gatsby Blog</a></p>\n<p><a href=\"\"></a></p>","frontmatter":{"title":"🎩 Gatsby - adding tags to blog posts","date":" 05/03/2022","tags":["Gatsby","blog","tags"]}}},"pageContext":{"slug":"/gatsby/gatsby-tags/","previous":{"fields":{"slug":"/api/pactumjs-wprowadzenie/"},"frontmatter":{"title":"🤝 PactumJS - introduction"}},"next":{"fields":{"slug":"/js/jsdoc/"},"frontmatter":{"title":"📃 JSDoc"}}}}}